<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="800"
   height="1250"
   viewBox="0 0 800 1250"
   version="1.1"
   id="svg105"
   sodipodi:docname="flow-diagram.svg"
   inkscape:version="1.0.1 (3bc2e813f5, 2020-09-07)">
  <metadata
     id="metadata109">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="909"
     inkscape:window-height="937"
     id="namedview107"
     showgrid="false"
     inkscape:zoom="0.572"
     inkscape:cx="400"
     inkscape:cy="625"
     inkscape:window-x="93"
     inkscape:window-y="46"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg105" />
  <defs
     id="defs7">
    <style
       id="style2">
      .prepare-box { fill: #E0F2FE; stroke: #0EA5E9; stroke-width: 2; rx: 10; ry: 10; }
      .create-box { fill: #F0FDF4; stroke: #16A34A; stroke-width: 2; rx: 10; ry: 10; }
      .text { font-family: &quot;Helvetica&quot;, &quot;Arial&quot;, sans-serif; font-size: 16px; fill: #1E293B; }
      .title-text { font-family: &quot;Helvetica&quot;, &quot;Arial&quot;, sans-serif; font-size: 20px; font-weight: bold; fill: #0C4A6E; }
      .arrow-line { stroke: #4B5563; stroke-width: 2; }
      .arrow-head { fill: #4B5563; }
      .input-text { font-family: &quot;Helvetica&quot;, &quot;Arial&quot;, sans-serif; font-size: 14px; fill: #374151; }
    </style>
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         class="arrow-head"
         id="polygon4" />
    </marker>
  </defs>
  <!-- Title -->
  <text
     x="300"
     y="40"
     class="title-text"
     id="text9">Kiwi NG Workflow</text>
  <!-- Inputs -->
  <text
     x="100"
     y="80"
     class="input-text"
     id="text11">Image Description (config.xml / .kiwi)</text>
  <text
     x="500"
     y="80"
     class="input-text"
     id="text13">Package Repositories</text>
  <line
     x1="180.42612"
     y1="86.65564"
     x2="321.70731"
     y2="128.53461"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line15" />
  <line
     x1="600.26605"
     y1="84.871956"
     x2="457.56705"
     y2="128.38411"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line17" />
  <!-- Prepare Step -->
  <text
     x="350"
     y="120"
     class="title-text"
     id="text19">Prepare</text>
  <rect
     x="150"
     y="140"
     width="500"
     height="650"
     fill="none"
     stroke="#0EA5E9"
     stroke-width="2"
     rx="15"
     ry="15"
     id="rect21" />
  <!-- 1. Create Target Root Directory -->
  <rect
     x="200"
     y="160"
     width="400"
     height="50"
     class="prepare-box"
     id="rect23" />
  <text
     x="280"
     y="190"
     class="text"
     id="text25">1. Create Target Root Directory</text>
  <line
     x1="400"
     y1="210"
     x2="400"
     y2="240"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line27" />
  <!-- 2. Bootstrap Target Root Directory -->
  <rect
     x="200"
     y="240"
     width="400"
     height="50"
     class="prepare-box"
     id="rect29" />
  <text
     x="270"
     y="270"
     class="text"
     id="text31">2. Bootstrap Target Root Directory</text>
  <line
     x1="400"
     y1="290"
     x2="400"
     y2="320"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line33" />
  <text
     x="420"
     y="315"
     class="input-text"
     id="text35">post_bootstrap.sh</text>
  <!-- 3. Install Packages -->
  <rect
     x="200"
     y="320"
     width="400"
     height="50"
     class="prepare-box"
     id="rect37" />
  <text
     x="320"
     y="350"
     class="text"
     id="text39">3. Install Packages</text>
  <line
     x1="400"
     y1="370"
     x2="400"
     y2="400"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line41" />
  <!-- 4. Apply the Overlay Tree -->
  <rect
     x="200"
     y="400"
     width="400"
     height="50"
     class="prepare-box"
     id="rect43" />
  <text
     x="300"
     y="430"
     class="text"
     id="text45">4. Apply the Overlay Tree</text>
  <line
     x1="400"
     y1="450"
     x2="400"
     y2="480"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line47" />
  <text
     x="420"
     y="475"
     class="input-text"
     id="text49">root/ or root.tar.gz</text>
  <!-- 5. Apply Archives -->
  <rect
     x="200"
     y="480"
     width="400"
     height="50"
     class="prepare-box"
     id="rect51" />
  <text
     x="320"
     y="510"
     class="text"
     id="text53">5. Apply Archives</text>
  <line
     x1="400"
     y1="530"
     x2="400"
     y2="560"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line55" />
  <!-- 6. Execute config.sh -->
  <rect
     x="200"
     y="560"
     width="400"
     height="50"
     class="prepare-box"
     id="rect57" />
  <text
     x="310"
     y="590"
     class="text"
     id="text59">6. Execute config.sh</text>
  <line
     x1="400"
     y1="610"
     x2="400"
     y2="640"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line61" />
  <text
     x="420"
     y="635"
     class="input-text"
     id="text63">config.sh</text>
  <!-- 7. (Optional) Modify the Root Tree -->
  <rect
     x="200"
     y="640"
     width="400"
     height="50"
     class="prepare-box"
     id="rect65" />
  <text
     x="250"
     y="670"
     class="text"
     id="text67">7. (Optional) Modify the Root Tree</text>
  <line
     x1="400"
     y1="690"
     x2="400"
     y2="720"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line69" />
  <!-- Unpacked Image -->
  <rect
     x="250"
     y="720"
     width="300"
     height="60"
     fill="#FFFFFF"
     stroke="#0EA5E9"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect71" />
  <text
     x="320"
     y="755"
     class="text"
     id="text73">Unpacked Image Tree</text>
  <!-- Create Step -->
  <text
     x="366.99301"
     y="818.25177"
     class="title-text"
     id="text77">Create</text>
  <rect
     x="150"
     y="830"
     width="500"
     height="320"
     fill="none"
     stroke="#16A34A"
     stroke-width="2"
     rx="15"
     ry="15"
     id="rect79" />
  <!-- 1. Execute images.sh -->
  <rect
     x="200"
     y="850"
     width="400"
     height="50"
     class="create-box"
     id="rect81" />
  <text
     x="310"
     y="880"
     class="text"
     id="text83">1. Execute images.sh</text>
  <line
     x1="400"
     y1="900"
     x2="400"
     y2="930"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line85" />
  <text
     x="420"
     y="925"
     class="input-text"
     id="text87">images.sh</text>
  <!-- 2. Create the Requested Image Type -->
  <rect
     x="200"
     y="930"
     width="400"
     height="50"
     class="create-box"
     id="rect89" />
  <text
     x="270"
     y="960"
     class="text"
     id="text91">2. Create the Requested Image Type</text>
  <line
     x1="400"
     y1="980"
     x2="400"
     y2="1014.1958"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line93" />
  <text
     x="420"
     y="1005"
     class="input-text"
     id="text95">type-specific scripts</text>
  <!-- Final Image -->
  <rect
     x="250"
     y="1040"
     width="300"
     height="60"
     fill="#FFFFFF"
     stroke="#16A34A"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect97" />
  <text
     x="310"
     y="1075"
     class="text"
     id="text99">Final Image (qcow2, vmdk, etc)</text>
  <!-- Output Arrow -->
  <line
     x1="400"
     y1="1100"
     x2="400"
     y2="1191.6039"
     class="arrow-line"
     marker-end="url(#arrowhead)"
     id="line101" />
  <text
     x="299.30069"
     y="1171.7483"
     class="input-text"
     id="text103">Deploy / Serve</text>
</svg>
